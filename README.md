from telegram import Update from telegram.ext import Updater, CommandHandler, CallbackContext from telegram.error import BadRequest # Your bot's API token API_TOKEN = "7666486855:AAFO0d0fLIiFnCDDOLrGI8Ps_PrMmuSoAag" # Function to handle the /banall command def ban_all(update: Update, context: CallbackContext): # Check if the user is an admin user_id = update.message.from_user.id chat_id =6699695238 update.message.chat_id # Check if the user is an admin admin_ids = [admin.user.id for admin in context.bot.get_chat_administrators(chat_id)] if user_id not in admin_ids: update.message.reply_text("ADMIN BNJA PHLE.") return # Get the list of all chat members (this could be large, be cautious) try: members = context.bot.get_chat_members(chat_id) for member in members: if member.status != 'administrator' and member.user.id != user_id: # Don't ban admins or yourself context.bot.ban_chat_member(chat_id, member.user.id) update.message.reply_text(f"Banned {member.user.username} ({member.user.id})") except BadRequest as e: update.message.reply_text(f"Error: {e.message}") # Function to start the bot def start(update: Update, context: CallbackContext): update.message.reply_text("Hello! I am your group management bot. Use /banall to ban all members.") # Set up the Updater and Dispatcher def main(): updater = Updater(API_TOKEN) dp = updater.dispatcher # Register handlers dp.add_handler(CommandHandler("start", start)) dp.add_handler(CommandHandler("banall", ban_all)) # Start the bot updater.start_polling() updater.idle() if name == "main": main()

<!---
Botuserclassic/Botuserclassic is a ✨ special ✨ repository because its `README.md` (this file) appears on your GitHub profile.
You can click the Preview link to take a look at your changes.
--->
